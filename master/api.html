<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Happi API &mdash; Happi 1.12.0+30.g099fd38 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="happi.backends.mongo_db.MongoBackend" href="generated/happi.backends.mongo_db.MongoBackend.html" />
    <link rel="prev" title="Command Line Interface" href="cli.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Happi
          </a>
              <div class="version">
                1.12.0+30.g099fd38
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="containers.html">Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="client.html">Using the Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command Line Interface</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Happi API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#client">Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="#backends">Backends</a><ul>
<li class="toctree-l3"><a class="reference internal" href="generated/happi.backends.mongo_db.MongoBackend.html">happi.backends.mongo_db.MongoBackend</a></li>
<li class="toctree-l3"><a class="reference internal" href="generated/happi.backends.json_db.JSONBackend.html">happi.backends.json_db.JSONBackend</a></li>
<li class="toctree-l3"><a class="reference internal" href="generated/happi.backends.qs_db.QSBackend.html">happi.backends.qs_db.QSBackend</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#containers">Containers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#built-ins">Built-ins</a></li>
<li class="toctree-l3"><a class="reference internal" href="#loading">Loading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#registry">Registry</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Release History</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Happi</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Happi API</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="happi-api">
<h1>Happi API<a class="headerlink" href="#happi-api" title="Permalink to this headline"></a></h1>
<section id="client">
<h2>Client<a class="headerlink" href="#client" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="happi.Client">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">happi.</span></span><span class="sig-name descname"><span class="pre">Client</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">database</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.Client" title="Permalink to this definition"></a></dt>
<dd><p>The client to control the contents of the Happi Database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>database</strong> (<em>happi.backends.Backend</em>) – A already-instantiated backend.</p></li>
<li><p><strong>kwargs</strong> – Keyword arguments passed to the <code class="docutils literal notranslate"><span class="pre">database</span></code> backend.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>DatabaseError</strong> – Raised if the Client fails to instantiate the Database.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="happi.Client.add_device">
<span class="sig-name descname"><span class="pre">add_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.Client.add_device" title="Permalink to this definition"></a></dt>
<dd><p>Add a device into the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>device</strong> (<a class="reference internal" href="#happi.HappiItem" title="happi.HappiItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">HappiItem</span></code></a>) – The device to store in the database.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>_id</strong> – The id of the device added.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>EntryError</strong> – If all of the mandatory information for the device has not been
    specified or there is already a device with that <code class="docutils literal notranslate"><span class="pre">id</span></code> in the
    database.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="happi.Client.all_devices">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">all_devices</span></span><a class="headerlink" href="#happi.Client.all_devices" title="Permalink to this definition"></a></dt>
<dd><p>A list of all contained devices.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="happi.Client.all_items">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">all_items</span></span><a class="headerlink" href="#happi.Client.all_items" title="Permalink to this definition"></a></dt>
<dd><p>A list of all contained items.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="happi.Client.change_container">
<span class="sig-name descname"><span class="pre">change_container</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#happi.HappiItem" title="happi.item.HappiItem"><span class="pre">happi.item.HappiItem</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.10)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#happi.HappiItem" title="happi.item.HappiItem"><span class="pre">happi.item.HappiItem</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.10)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">how</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'right'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.10)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#happi.Client.change_container" title="Permalink to this definition"></a></dt>
<dd><p>Return the kwargs necessary to transfer the information from
<code class="docutils literal notranslate"><span class="pre">item</span></code> into a container <code class="docutils literal notranslate"><span class="pre">target</span></code>.  Checks are performed to ensure
the contents are compatible (following enforce requirements in the
target container)</p>
<p>This function is built to be a helper function for an interactive
cli tool, and passes information up accordingly.  If keys are not
significantly mismatched, this function can be used as is.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item</strong> (<a class="reference internal" href="#happi.HappiItem" title="happi.HappiItem"><em>happi.HappiItem</em></a>) – HappiItem instance to be transferred to a new container</p></li>
<li><p><strong>target</strong> (<em>Type</em><em>[</em><a class="reference internal" href="#happi.HappiItem" title="happi.HappiItem"><em>happi.HappiItem</em></a><em>]</em>) – Container to contain new item</p></li>
<li><p><strong>edits</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>Any</em><em>]</em><em>, </em><em>optional</em>) – Dictionary of edits to supersede values in original item</p></li>
<li><p><strong>how</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Method of resolving the entries between the original item
and target container.  Can be:
- “right” : Expect a value for every entry in target container
- “inner” : Expect values for only entries in BOTH original
item and target container</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>TransferError</strong> – If there is a problem tranferring item into container</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>new_kwargs</strong> – kwargs to pass into a new HappiItem</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a>, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="happi.Client.choices_for_field">
<span class="sig-name descname"><span class="pre">choices_for_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.Client.choices_for_field" title="Permalink to this definition"></a></dt>
<dd><p>List all choices for a given field.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>field</strong> (<em>string</em>) – Field name to list all possible choices for
i.e ‘beamline’, ‘name’, ‘z’, ‘prefix’, etc.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>SearchError</strong> – If no devices in the database have an entry for the given field.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>field_choices</strong> – List of choices for a given field that are in the database.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="happi.Client.create_device">
<span class="sig-name descname"><span class="pre">create_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device_cls</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.Client.create_device" title="Permalink to this definition"></a></dt>
<dd><p>Instantiate a HappiItem from its container class and keyword arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device_cls</strong> (<em>class</em>) – The HappiItem container class to instantiate.</p></li>
<li><p><strong>kwargs</strong> – Information to pass through to the device, upon initialization.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>device</strong> – An instantiated version of the device.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)">object</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.10)"><strong>TypeError</strong></a> – If the provided class is not a subclass of <a class="reference internal" href="#happi.HappiItem" title="happi.HappiItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">HappiItem</span></code></a>.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">device</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">create_device</span><span class="p">(</span><span class="n">Device</span><span class="p">,</span>   <span class="n">name</span><span class="o">=</span><span class="s1">&#39;my_device&#39;</span> <span class="o">...</span><span class="p">)</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">create_device</span><span class="p">(</span><span class="s1">&#39;Device&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;my_device&#39;</span><span class="p">,</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="happi.Client.export">
<span class="sig-name descname"><span class="pre">export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep='\t'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attrs=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.Client.export" title="Permalink to this definition"></a></dt>
<dd><p>Export the contents of the database into a text file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>File Handle</em>) – File-like object to save text file. Defaults to stdout.</p></li>
<li><p><strong>sep</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Separator to place inbetween columns of information.</p></li>
<li><p><strong>attrs</strong> (<em>iterable</em>) – Attributes to include, these will be a list of values.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="happi.Client.find_config">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">find_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#happi.Client.find_config" title="Permalink to this definition"></a></dt>
<dd><p>Search for a <code class="docutils literal notranslate"><span class="pre">happi</span></code> configuration file.</p>
<p>We first query the environment variable <code class="docutils literal notranslate"><span class="pre">$HAPPI_CFG</span></code> to see if this
points to a specific configuration file. If this is not present, the
variable set by <code class="docutils literal notranslate"><span class="pre">$XDG_CONFIG_HOME</span></code> or if  that is not set
<code class="docutils literal notranslate"><span class="pre">~/.config</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>path</strong> – Absolute path to configuration file.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#EnvironmentError" title="(in Python v3.10)"><strong>EnvironmentError</strong></a> – If no configuration file can be found by the methodology detailed
    above.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="happi.Client.find_device">
<span class="sig-name descname"><span class="pre">find_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">post</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.Client.find_device" title="Permalink to this definition"></a></dt>
<dd><p>Query the database for an individual HappiItem.</p>
<p>If multiple devices are found, only the first is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>post</strong> – Key-value pairs of search criteria used to find the device.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>SearchError</strong> – If no match for the given information is found.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>device</strong> – A device that matches the characteristics given.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#happi.HappiItem" title="happi.HappiItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">HappiItem</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="happi.Client.find_document">
<span class="sig-name descname"><span class="pre">find_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.Client.find_document" title="Permalink to this definition"></a></dt>
<dd><p>Load a device document from the database.</p>
<p>If multiple matches are found, a single document will be returned to
the user. How the database will choose to select this device is based
on each individual implementation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kwargs</strong> – Keyword pairs of information used to locate the device</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>document</strong> – A dict that matches the specified information.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>SearchError</strong> – If no document with the given information is found.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#happi.Client.find_device" title="happi.Client.find_device"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_device()</span></code></a>, <a class="reference internal" href="#happi.Client.search" title="happi.Client.search"><code class="xref py py-meth docutils literal notranslate"><span class="pre">search()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="happi.Client.from_config">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.Client.from_config" title="Permalink to this definition"></a></dt>
<dd><p>Create a client from a configuration file specification.</p>
<p>Configuration files looking something along the lines of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">DEFAULT</span><span class="p">]</span>
<span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">my</span><span class="o">/</span><span class="n">db</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p>All key value pairs will be passed directly into backend construction
with the exception of the key <code class="docutils literal notranslate"><span class="pre">backend</span></code> which can be used to specify
a specific type of backend if this differs from the configured default.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cfg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Path to a configuration file. If not entered, <a class="reference internal" href="#happi.Client.find_config" title="happi.Client.find_config"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_config()</span></code></a>
will be use.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="happi.Client.load_device">
<span class="sig-name descname"><span class="pre">load_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">use_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">post</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.Client.load_device" title="Permalink to this definition"></a></dt>
<dd><p>Find a device in the database and instantiate it.</p>
<p>Essentially a shortcut for:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">container</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">find_device</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;...&#39;</span><span class="p">)</span>
<span class="n">device</span> <span class="o">=</span> <span class="n">from_container</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>post</strong> – Key-value pairs of search criteria passed to
<a class="reference internal" href="#happi.Client.find_device" title="happi.Client.find_device"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Client.find_device()</span></code></a>.</p></li>
<li><p><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Choice to use a cached device. See <code class="xref py py-meth docutils literal notranslate"><span class="pre">from_container()</span></code> for more
information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Instantiated object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)">object</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="happi.Client.remove_device">
<span class="sig-name descname"><span class="pre">remove_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.Client.remove_device" title="Permalink to this definition"></a></dt>
<dd><p>Remove a device from the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>device</strong> (<a class="reference internal" href="#happi.HappiItem" title="happi.HappiItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">HappiItem</span></code></a>) – HappiItem to be removed from the database.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="happi.Client.search">
<span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.Client.search" title="Permalink to this definition"></a></dt>
<dd><p>Search the database for a device or devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**kwargs</strong> – Information to filter through the database structured as key, value
pairs for the desired pieces of EntryInfo.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>res</strong> – The search results.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of SearchResult</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gate_valves</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;Valve&#39;</span><span class="p">)</span>
<span class="n">hxr_valves</span>  <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;Valve&#39;</span><span class="p">,</span> <span class="n">beamline</span><span class="o">=</span><span class="s1">&#39;HXR&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="happi.Client.search_range">
<span class="sig-name descname"><span class="pre">search_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.Client.search_range" title="Permalink to this definition"></a></dt>
<dd><p>Search the database for a device or devices using a numerical range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Database key to search.</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – Minimum beamline position to include devices.</p></li>
<li><p><strong>end</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – Maximum beamline position to include devices.</p></li>
<li><p><strong>**kwargs</strong> (<em>optional</em>) – Additional information used to filter through the database
structured as key-value pairs for the desired pieces of EntryInfo.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list of devices or dictionaries</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gate_valves</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">search_range</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;Valve&#39;</span><span class="p">)</span>
<span class="n">hxr_valves</span>  <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">search_range</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;Valve&#39;</span><span class="p">,</span>
                                  <span class="n">beamline</span><span class="o">=</span><span class="s1">&#39;HXR&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="happi.Client.search_regex">
<span class="sig-name descname"><span class="pre">search_regex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">RegexFlag.IGNORECASE</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.Client.search_regex" title="Permalink to this definition"></a></dt>
<dd><p>Search the database for a device or devices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flags</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Defaulting to <code class="docutils literal notranslate"><span class="pre">re.IGNORECASE</span></code>, these flags are used for the
regular expressions passed in.</p></li>
<li><p><strong>**kwargs</strong> – Information to filter through the database structured as key, value
pairs for the desired pieces of EntryInfo.  Every value is allowed
to contain a Python regular expression.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list of devices or dictionaries</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gate_valves</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">search_regex</span><span class="p">(</span><span class="n">beamline</span><span class="o">=</span><span class="s1">&#39;Valve.*&#39;</span><span class="p">)</span>
<span class="n">three_valves</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">search_regex</span><span class="p">(</span><span class="n">_id</span><span class="o">=</span><span class="s1">&#39;VALVE[123]&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="happi.Client.validate">
<span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#happi.Client.validate" title="Permalink to this definition"></a></dt>
<dd><p>Validate all of the devices in the database.</p>
<p>This is done by attempting to initialize each device and asserting
their mandatory information is present. Information is written to the
logger.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>ids</strong> – List of device ids that have failed verification.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list of str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="happi.SearchResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">happi.</span></span><span class="sig-name descname"><span class="pre">SearchResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.SearchResult" title="Permalink to this definition"></a></dt>
<dd><p>A single search result from <a class="reference internal" href="#happi.Client.search" title="happi.Client.search"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Client.search</span></code></a>.</p>
<p class="rubric">Examples</p>
<p>This result can be keyed for metadata as in:
&gt;&gt;&gt; result[‘name’]</p>
<p>The HappiItem can be readily retrieved:
&gt;&gt;&gt; result.item</p>
<p>Or the object may be instantiated:
&gt;&gt;&gt; result.get()</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="happi.SearchResult.item">
<span class="sig-name descname"><span class="pre">item</span></span><a class="headerlink" href="#happi.SearchResult.item" title="Permalink to this definition"></a></dt>
<dd><p>The resulting container.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#happi.HappiItem" title="happi.HappiItem">happi.HappiItem</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="happi.SearchResult.metadata">
<span class="sig-name descname"><span class="pre">metadata</span></span><a class="headerlink" href="#happi.SearchResult.metadata" title="Permalink to this definition"></a></dt>
<dd><p>The resulting HappiItem metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="happi.SearchResult.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="optional">]</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">D[k]</span> <span class="pre">if</span> <span class="pre">k</span> <span class="pre">in</span> <span class="pre">D,</span> <span class="pre">else</span> <span class="pre">d.</span>&#160; <span class="pre">d</span> <span class="pre">defaults</span> <span class="pre">to</span> <span class="pre">None.</span></span></span><a class="headerlink" href="#happi.SearchResult.get" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="backends">
<h2>Backends<a class="headerlink" href="#backends" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="happi.backends.core._Backend">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">happi.backends.core.</span></span><span class="sig-name descname"><span class="pre">_Backend</span></span><a class="headerlink" href="#happi.backends.core._Backend" title="Permalink to this definition"></a></dt>
<dd><p>Base class for backend database.</p>
<dl class="py property">
<dt class="sig sig-object py" id="happi.backends.core._Backend.all_devices">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">all_devices</span></span><a class="headerlink" href="#happi.backends.core._Backend.all_devices" title="Permalink to this definition"></a></dt>
<dd><p>List of all device sub-dictionaries.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="happi.backends.core._Backend.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.backends.core._Backend.delete" title="Permalink to this definition"></a></dt>
<dd><p>Delete a device instance from the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – ID of device.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#PermissionError" title="(in Python v3.10)"><strong>PermissionError</strong></a> – If the write operation fails due to issues with permissions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="happi.backends.core._Backend.find">
<span class="sig-name descname"><span class="pre">find</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">multiples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.backends.core._Backend.find" title="Permalink to this definition"></a></dt>
<dd><p>Find an instance or instances that matches the search criteria.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>multiples</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – Find a single result or all results matching the provided
information.</p></li>
<li><p><strong>kwargs</strong> – Requested information.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="happi.backends.core._Backend.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.backends.core._Backend.save" title="Permalink to this definition"></a></dt>
<dd><p>Save information to the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – ID of device.</p></li>
<li><p><strong>post</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – Information to place in database.</p></li>
<li><p><strong>insert</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not this a new device to the database.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>DuplicateError</strong> – If <code class="docutils literal notranslate"><span class="pre">insert</span></code> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.10)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a>, but there is already a device with the
    provided <code class="docutils literal notranslate"><span class="pre">_id</span></code>.</p></li>
<li><p><strong>SearchError</strong> – If <code class="docutils literal notranslate"><span class="pre">insert</span></code> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.10)"><code class="xref any docutils literal notranslate"><span class="pre">False</span></code></a>, but there is no device with the provided
    <code class="docutils literal notranslate"><span class="pre">_id</span></code>.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#PermissionError" title="(in Python v3.10)"><strong>PermissionError</strong></a> – If the write operation fails due to issues with permissions.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/happi.backends.mongo_db.MongoBackend.html#happi.backends.mongo_db.MongoBackend" title="happi.backends.mongo_db.MongoBackend"><code class="xref py py-obj docutils literal notranslate"><span class="pre">happi.backends.mongo_db.MongoBackend</span></code></a>([host, ...])</p></td>
<td><p>Abstraction for MongoDB backend.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/happi.backends.json_db.JSONBackend.html#happi.backends.json_db.JSONBackend" title="happi.backends.json_db.JSONBackend"><code class="xref py py-obj docutils literal notranslate"><span class="pre">happi.backends.json_db.JSONBackend</span></code></a>(path[, ...])</p></td>
<td><p>JSON database.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/happi.backends.qs_db.QSBackend.html#happi.backends.qs_db.QSBackend" title="happi.backends.qs_db.QSBackend"><code class="xref py py-obj docutils literal notranslate"><span class="pre">happi.backends.qs_db.QSBackend</span></code></a>(expname, *[, ...])</p></td>
<td><p>Questionniare Backend.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="containers">
<h2>Containers<a class="headerlink" href="#containers" title="Permalink to this headline"></a></h2>
<section id="built-ins">
<h3>Built-ins<a class="headerlink" href="#built-ins" title="Permalink to this headline"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="happi.HappiItem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">happi.</span></span><span class="sig-name descname"><span class="pre">HappiItem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.HappiItem" title="Permalink to this definition"></a></dt>
<dd><p>The smallest description of an object that can be entered in <code class="docutils literal notranslate"><span class="pre">happi</span></code>.</p>
<p>The class does not need to be intialized with any specific piece of
information except a name, but all of the attributes listed by
<code class="xref py py-attr docutils literal notranslate"><span class="pre">HappiItem.info_names</span></code> can be used to assign values to
<a class="reference internal" href="containers.html#happi.EntryInfo" title="happi.EntryInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">EntryInfo</span></code></a> upon initialization.  Pieces of information that are
deemed mandatory by the class must be filled in before the device is loaded
into the database. See <code class="xref py py-attr docutils literal notranslate"><span class="pre">mandatory_info</span></code> to see which
attributes are neccesary.</p>
<p>Additional metadata can be given to the device in the form of keywords on
initialization, this information is kept in the <a class="reference internal" href="#happi.HappiItem.extraneous" title="happi.HappiItem.extraneous"><code class="xref py py-attr docutils literal notranslate"><span class="pre">extraneous</span></code></a>
attribute, and will be saved in to the database as long as it does not
clash with an existing piece of metadata that the client uses to organize
devices.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="happi.HappiItem.entry_info">
<span class="sig-name descname"><span class="pre">entry_info</span></span><a class="headerlink" href="#happi.HappiItem.entry_info" title="Permalink to this definition"></a></dt>
<dd><p>A list of all the <a class="reference internal" href="containers.html#happi.EntryInfo" title="happi.EntryInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">EntryInfo</span></code></a> associated with the device.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="happi.HappiItem.extraneous">
<span class="sig-name descname"><span class="pre">extraneous</span></span><a class="headerlink" href="#happi.HappiItem.extraneous" title="Permalink to this definition"></a></dt>
<dd><p>Storage for information supplied during initialization that does not
correspond to a specific EntryInfo.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>EntryError</strong> – If a piece of information supplied at startup is of the incorrect type.</p></li>
<li><p><strong>ContainerError</strong> – If one of the pieces of <a class="reference internal" href="containers.html#happi.EntryInfo" title="happi.EntryInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">EntryInfo</span></code></a> has a default value of the
    incorrect type.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="n">HappiItem</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;my_device&#39;</span><span class="p">,</span>         <span class="c1"># Alias name for device</span>
              <span class="n">note</span>  <span class="o">=</span> <span class="s1">&#39;Example&#39;</span><span class="p">,</span>          <span class="c1"># Piece of arbitrary metadata</span>
             <span class="p">)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="happi.HappiItem.active">
<span class="sig-name descname"><span class="pre">active</span></span><a class="headerlink" href="#happi.HappiItem.active" title="Permalink to this definition"></a></dt>
<dd><p>Whether the instance is actively deployed</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="happi.HappiItem.args">
<span class="sig-name descname"><span class="pre">args</span></span><a class="headerlink" href="#happi.HappiItem.args" title="Permalink to this definition"></a></dt>
<dd><p>Arguments to pass to device_class</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="happi.HappiItem.device_class">
<span class="sig-name descname"><span class="pre">device_class</span></span><a class="headerlink" href="#happi.HappiItem.device_class" title="Permalink to this definition"></a></dt>
<dd><p>Python class that represents the instance</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="happi.HappiItem.documentation">
<span class="sig-name descname"><span class="pre">documentation</span></span><a class="headerlink" href="#happi.HappiItem.documentation" title="Permalink to this definition"></a></dt>
<dd><p>Relevant documentation for the instance</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="happi.HappiItem.kwargs">
<span class="sig-name descname"><span class="pre">kwargs</span></span><a class="headerlink" href="#happi.HappiItem.kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Keyword arguments to pass to device_class</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="happi.HappiItem.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#happi.HappiItem.name" title="Permalink to this definition"></a></dt>
<dd><p>Shorthand Python-valid name for the Python instance</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="happi.HappiItem.post">
<span class="sig-name descname"><span class="pre">post</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#happi.HappiItem.post" title="Permalink to this definition"></a></dt>
<dd><p>Create a document to be loaded into the happi database.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>post</strong> – Dictionary of all contained information.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="happi.HappiItem.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#happi.HappiItem.save" title="Permalink to this definition"></a></dt>
<dd><p>Overwritten when the device instance is loaded from the client.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="happi.HappiItem.show_info">
<span class="sig-name descname"><span class="pre">show_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handle=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.HappiItem.show_info" title="Permalink to this definition"></a></dt>
<dd><p>Show the device instance information in a PrettyTable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>handle</strong> (<em>file-like</em><em>, </em><em>optional</em>) – Option to write to a file-like object.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="happi.OphydItem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">happi.</span></span><span class="sig-name descname"><span class="pre">OphydItem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.OphydItem" title="Permalink to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="happi.OphydItem.args">
<span class="sig-name descname"><span class="pre">args</span></span><a class="headerlink" href="#happi.OphydItem.args" title="Permalink to this definition"></a></dt>
<dd><p>Arguments to pass to device_class</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="happi.OphydItem.kwargs">
<span class="sig-name descname"><span class="pre">kwargs</span></span><a class="headerlink" href="#happi.OphydItem.kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Keyword arguments to pass to device_class</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="happi.OphydItem.prefix">
<span class="sig-name descname"><span class="pre">prefix</span></span><a class="headerlink" href="#happi.OphydItem.prefix" title="Permalink to this definition"></a></dt>
<dd><p>A base PV for all related records</p>
</dd></dl>

</dd></dl>

</section>
<section id="loading">
<h3>Loading<a class="headerlink" href="#loading" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="happi.from_container">
<span class="sig-prename descclassname"><span class="pre">happi.</span></span><span class="sig-name descname"><span class="pre">from_container</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#happi.HappiItem" title="happi.item.HappiItem"><span class="pre">happi.item.HappiItem</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">attach_md</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_cache</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threaded</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.10)"><span class="pre">Any</span></a></span></span><a class="headerlink" href="#happi.from_container" title="Permalink to this definition"></a></dt>
<dd><p>Load an object (or “device”) from a compatible HappiItem.</p>
<p>The container is queried for the device_class, args, and kwargs. Then if
the associated package is not already loaded it is imported. The specified
class is then instantiated with the given args and kwargs provided.</p>
<p>This function does not attempt to catch exceptions either during module
imports or device creation. If you would like a series of independent
devices to be loaded use <a class="reference internal" href="#happi.load_devices" title="happi.load_devices"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_devices()</span></code></a>.</p>
<p>By default, the instantiated object has the original container added on as
<code class="docutils literal notranslate"><span class="pre">.md</span></code>. This allows applications to utilize additional metadata
information that may not be included in the basic class constructor. On
later calls, the container you request is checked against this stored
metadata. If a discrepancy is found the object is <strong>forced</strong> to reload, not
retrieved from the cache.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<a class="reference internal" href="#happi.HappiItem" title="happi.HappiItem"><em>happi.HappiItem</em></a>) – The device to load.</p></li>
<li><p><strong>attach_md</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Attach the container to the instantiated object as <code class="docutils literal notranslate"><span class="pre">md</span></code>.</p></li>
<li><p><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – When devices are loaded they are stored in the <code class="docutils literal notranslate"><span class="pre">happi.cache</span></code>
dictionary. This means that repeated attempts to load the device will
return the same object. This prevents unnecessary EPICS connections
from being initialized in the same process. If a new object is
needed, set <code class="docutils literal notranslate"><span class="pre">use_cache</span></code> to <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.10)"><code class="xref any docutils literal notranslate"><span class="pre">False</span></code></a> and a new object will be created,
overriding the current cached object. An object with matching name
and differing metadata will always return a new instantiation of the
device.</p></li>
<li><p><strong>threaded</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Set this to <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.10)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> when calling inside a thread.  This is currently
unused.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>obj</strong> – This will be of the same type as the return value of the provided
item’s <code class="docutils literal notranslate"><span class="pre">device_class</span></code>.  As that may be a factory function or a
class, the exact return type is not guaranteed.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Any</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="happi.load_devices">
<span class="sig-prename descclassname"><span class="pre">happi.</span></span><span class="sig-name descname"><span class="pre">load_devices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">devices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#happi.HappiItem" title="happi.item.HappiItem"><span class="pre">happi.item.HappiItem</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">pprint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><span class="pre">object</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_cache</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threaded</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_load</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.10)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.10)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_load_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_time_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.load_devices" title="Permalink to this definition"></a></dt>
<dd><p>Load a series of devices into a namespace.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*devices</strong> – List of happi containers to load.</p></li>
<li><p><strong>pprint</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Print results of device loads.</p></li>
<li><p><strong>namespace</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><em>object</em></a><em>, </em><em>optional</em>) – Namespace to collect loaded devices in. By default this will be a
<a class="reference external" href="https://docs.python.org/3/library/types.html#types.SimpleNamespace" title="(in Python v3.10)"><code class="xref any docutils literal notranslate"><span class="pre">types.SimpleNamespace</span></code></a>.</p></li>
<li><p><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – If set to <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.10)"><code class="xref any docutils literal notranslate"><span class="pre">False</span></code></a>, we’ll ignore the cache and always make new
devices.</p></li>
<li><p><strong>threaded</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Set to <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.10)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a> to create each device in a background thread.  Note that
this assumes that no two devices provided are the same. You are not
guaranteed to load from the cache correctly if you ask for the same
device to be loaded twice in the same threaded load.</p></li>
<li><p><strong>post_load</strong> (<em>function</em><em>, </em><em>optional</em>) – Function of one argument to run on each device after instantiation.
This is your opportunity to check for good device health during the
threaded load.</p></li>
<li><p><strong>include_load_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Include load time in each message.</p></li>
<li><p><strong>load_time_threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – Load time above this value, in seconds, will be shown if
<code class="docutils literal notranslate"><span class="pre">include_load_time</span></code> is set.</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments passed to <a class="reference internal" href="#happi.from_container" title="happi.from_container"><code class="xref py py-func docutils literal notranslate"><span class="pre">from_container()</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="registry">
<h3>Registry<a class="headerlink" href="#registry" title="Permalink to this headline"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="happi.containers.HappiRegistry">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">happi.containers.</span></span><span class="sig-name descname"><span class="pre">HappiRegistry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#happi.containers.HappiRegistry" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="cli.html" class="btn btn-neutral float-left" title="Command Line Interface" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="generated/happi.backends.mongo_db.MongoBackend.html" class="btn btn-neutral float-right" title="happi.backends.mongo_db.MongoBackend" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, SLAC National Accelerator Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>